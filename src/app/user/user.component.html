<form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="container-form">
  <label>
    Nom d'utilisateur:
    <input type="text" formControlName="username" />
  </label>
  <div
    *ngIf="
      userForm.controls['username'].errors &&
      !userForm.controls['username'].pristine
    "
    class="error-msg"
  >
    <div [hidden]="!userForm.controls['username'].errors['required']">
      username is required.
    </div>
    <div [hidden]="!userForm.controls['username'].invalid">
      username is invalid.
    </div>
  </div>

  <div formGroupName="credentials">
    <label>
      Email:
      <input type="email" formControlName="email" />
    </label>
    <div>
      <label>
        Mot de passe:
        <input type="password" formControlName="password" />
        <div
          *ngIf="
            userForm.get('credentials.password')?.errors &&
            !userForm.get('credentials.password')?.pristine
          "
          class="error-msg"
        >
          <div
            [hidden]="!userForm.get('credentials.password')?.errors?.['required']"
          >
            password is required.
          </div>
          <div [hidden]="!userForm.get('credentials.password')?.invalid">
            password is invalid:
            {{ userForm.get("credentials.password")?.errors?.['password'].rules }}
          </div>
        </div>
      </label>
    </div>
  </div>
  <div formGroupName="address">
    <label>
      Num√©ro de rue:
      <input type="text" formControlName="streetNumber" />
    </label>
    <label>
      Code postal:
      <input type="text" formControlName="postal" />
    </label>
    <label>
      Ville:
      <input type="text" formControlName="street" />
    </label>
  </div>
  <button type="submit" [disabled]="!userForm.valid">Envoyer</button>
</form>
